import com.moowork.gradle.node.task.NodeTask

buildscript {
	dependencies {
		classpath "com.moowork.gradle:gradle-node-plugin:0.12"
	}
}

apply plugin: "com.moowork.node"

node {
	version = "8.2.1"
	npmVersion = "5.3.0"
	download = true
}

eclipse {
	classpath {
		containers.remove("org.eclipse.jdt.launching.JRE_CONTAINER")
		containers "org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8"
	}
}

/*
task wrapper(type: Wrapper) {
	gradleVersion = "2.12"
}
*/

task webpack(type: NodeTask, dependsOn: "npmInstall") {
	def osName = System.getProperty("os.name").toLowerCase();
	if (osName.contains("windows")) {
		script = project.file("node_modules/webpack/bin/webpack.js")
	} else {
		script = project.file("node_modules/.bin/webpack")
	}
}